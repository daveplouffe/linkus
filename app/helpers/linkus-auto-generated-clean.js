/**
 * Lors d'une compilation, certains fichier peuvent être générer
 * par celle-ci. Ces fichiers temporaires sont ajouté dans la liste
 * des builds afin qu'ils soient compilé à leur tour.
 */

//region imports
const eventbus = require('./eventbus');
const LinkusEvent = require('../core/linkus-event');
//endregion

eventbus.on(LinkusEvent.onBuildDone, function (linkus) {
  let n = linkus.props.builds.length;
  while (n-- > 0) {
    if (linkus.props.builds[n].autoGenerated === true) {
      linkus.props.builds.splice(n, 1);
    }
  }
});